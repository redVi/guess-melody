(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["genre-vue"],{"1aee":function(e,t,a){},"25fc":function(e,t,a){"use strict";const n={data:()=>({time:0}),created(){this.initTimer()},updated(){this.initTimer()},methods:{initTimer(){this.time=(new Date).getTime()},getAnswerTime(){return((new Date).getTime()-this.time)/1e3},updateState(e,t){const a=t.isAnswerSuccess,n=t.guessedTracks,s=t.time;return a?(e.totalPointsEarned+=s<=5?2:1,e.guessedTracks+=n||1):e.lives-=1,e.questions.splice(0,1),e}}};t["a"]=n},"31a3":function(e,t,a){"use strict";var n=a("1aee"),s=a.n(n);s.a},4542:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main main--level main--level-genre"},[a("div",{staticClass:"main-wrap"},[a("h2",{staticClass:"title"},[e._v("\n      "+e._s(e.$t("genre.title",{n:e.question.genre}))+"\n    ")]),a("form",{staticClass:"genre",on:{submit:function(t){return t.preventDefault(),e.checkAnswer(t)}}},[e._l(e.question.tracks,function(t,n){return a("answer-genre",{key:t.genre+"-"+n,ref:"answer",refInFor:!0,attrs:{id:t.genre+"-"+n,value:t.genre}},[t?a("v-player",{attrs:{slot:"player","it-should-be-play":0===n,multiply:!0,src:t.path},slot:"player"}):e._e()],1)}),a("button",{staticClass:"genre-answer-send",attrs:{type:"submit"}},[e._v("\n        "+e._s(e.$t("answer"))+"\n      ")])],2)])])},s=[],r=a("4e7e"),i=a("cf5f"),c=a("25fc"),l=a("8e7d"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.value&&e.id?a("div",{staticClass:"genre-answer"},[e._t("player"),a("input",{attrs:{type:"checkbox",name:"answer",id:e.id},domProps:{checked:e.checked,value:e.value},on:{change:e.isChecked}}),a("label",{staticClass:"genre-answer-check",attrs:{for:e.id}})],2):e._e()},u=[],d={name:"GenreAnswer",props:{id:{type:String,required:!0},value:{type:String,required:!0}},data:()=>({checked:!1}),methods:{isChecked(){this.checked=!this.checked}},update(){this.checked=!1}},p=d,m=a("2877"),h=Object(m["a"])(p,o,u,!1,null,null,null),f=h.exports,y={name:"Genre",mixins:[r["a"],i["a"],c["a"]],components:{AnswerGenre:f,VPlayer:l["a"]},methods:{checkAnswer(){const e=this.question,t=Array.from(this.$refs.answer).filter(e=>e.checked),a=e.tracks.filter(t=>t.genre===e.genre).length,n=t.length,s=t.every(t=>t.value===e.genre),r=a===n;this.$emit("update",this.updateState(this.game,{isAnswerSuccess:s&&r,time:this.getAnswerTime(),guessedTracks:n}))}}},v=y,g=Object(m["a"])(v,n,s,!1,null,null,null);t["default"]=g.exports},"4e7e":function(e,t,a){"use strict";const n={props:{game:{type:Object,default:()=>({})}}};t["a"]=n},"8e7d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player-wrapper"},[a("div",{staticClass:"player"},[a("audio",{ref:"audio",attrs:{src:e.src,type:e.type,play:e.play},on:{timeupdate:e.onTimeUpdateListener,loadedmetadata:e.onDurationListener,ended:e.revertState}}),a("button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.rerender,expression:"rerender"}],staticClass:"player-control",class:e.playClass,attrs:{tabindex:0,"aria-label":"play or stop track"},on:{click:function(t){return t.preventDefault(),e.revertState(t)}}}),a("div",{staticClass:"player-track"},[a("span",{staticClass:"player-status"},[e._v("\n        "+e._s(e.$t("time",{current:e.currentTime,duration:e.duration}))+"\n      ")])])])])},s=[],r=a("c7db"),i={name:"VPlayer",mixins:[r["mixin"]],props:{multiply:{type:Boolean,default:!1},itShouldBePlay:{type:Boolean,default:!1},skippedTargets:{type:Array,default:()=>["player-control"]},src:{type:String,default:""},type:{type:String,default:"audio/mp3"}},data:()=>({play:!1,currentTime:0,duration:0}),computed:{playClass(){const e=this.play?"pause":"play";return`player-control--${e}`}},mounted(){this.initState()},watch:{play(){this.play?this.$refs.audio.play():this.$refs.audio.pause()}},methods:{initState(){this.play=this.itShouldBePlay},revertState(){this.play=!this.play},onDurationListener(e){const t=e.target.duration;this.duration=t?Math.floor(t):0},onTimeUpdateListener(e){const t=e.target.currentTime;this.currentTime=t?Math.floor(t):0},rerender(e){if(!this.multiply)return;const t=this.skippedTargets.filter(t=>e.target.classList.contains(t));!0===Boolean(t.length)&&(this.play=!1)}}},c=i,l=(a("31a3"),a("2877")),o=Object(l["a"])(c,n,s,!1,null,"5f27408e",null);t["a"]=o.exports},c7db:function(e,t,a){"use strict";var n=a("2b0e");n="default"in n?n["default"]:n;var s="2.2.2",r=/^2\./.test(n.version);r||n.util.warn("VueClickaway "+s+" only supports Vue 2.x, and does not support Vue "+n.version);var i="_vue_clickaway_handler";function c(e,t,a){l(e);var n=a.context,s=t.value;if("function"===typeof s){var r=!1;setTimeout(function(){r=!0},0),e[i]=function(t){var a=t.path||(t.composedPath?t.composedPath():void 0);if(r&&(a?a.indexOf(e)<0:!e.contains(t.target)))return s.call(n,t)},document.documentElement.addEventListener("click",e[i],!1)}}function l(e){document.documentElement.removeEventListener("click",e[i],!1),delete e[i]}var o={bind:c,update:function(e,t){t.value!==t.oldValue&&c(e,t)},unbind:l},u={directives:{onClickaway:o}};t.version=s,t.directive=o,t.mixin=u},cf5f:function(e,t,a){"use strict";const n={computed:{question(){const e=this.game&&this.game.questions.length;return e?this.game.questions[0]:[]}}};t["a"]=n}}]);