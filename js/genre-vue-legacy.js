(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["genre-vue"],{"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var a,s,c=String(i(t)),u=r(n),o=c.length;return u<0||u>=o?e?"":void 0:(a=c.charCodeAt(u),a<55296||a>56319||u+1===o||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):a:e?c.slice(u,u+2):s-56320+(a-55296<<10)+65536)}}},"1aee":function(e,t,n){},"1c4c":function(e,t,n){"use strict";var r=n("9b43"),i=n("5ca1"),a=n("4bf8"),s=n("1fa8"),c=n("33a4"),u=n("9def"),o=n("f1ae"),l=n("27ee");i(i.S+i.F*!n("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(f);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&c(g))for(t=u(f.length),n=new p(t);t>y;y++)o(n,y,m?v(f[y],y):f[y]);else for(d=g.call(f),n=new p;!(i=d.next()).done;y++)o(n,y,m?s(d,v,[i.value,y],!0):i.value);return n.length=y,n}})},"25fc":function(e,t,n){"use strict";var r={data:function(){return{time:0}},created:function(){this.initTimer()},updated:function(){this.initTimer()},methods:{initTimer:function(){this.time=(new Date).getTime()},getAnswerTime:function(){return((new Date).getTime()-this.time)/1e3},updateState:function(e,t){var n=t.isAnswerSuccess,r=t.guessedTracks,i=t.time;return n?(e.totalPointsEarned+=i<=5?2:1,e.guessedTracks+=r||1):e.lives-=1,e.questions.splice(0,1),e}}};t["a"]=r},"31a3":function(e,t,n){"use strict";var r=n("1aee"),i=n.n(r);i.a},4542:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main main--level main--level-genre"},[n("div",{staticClass:"main-wrap"},[n("h2",{staticClass:"title"},[e._v("\n      "+e._s(e.$t("genre.title",{n:e.question.genre}))+"\n    ")]),n("form",{staticClass:"genre",on:{submit:function(t){return t.preventDefault(),e.checkAnswer(t)}}},[e._l(e.question.tracks,function(t,r){return n("answer-genre",{key:t.genre+"-"+r,ref:"answer",refInFor:!0,attrs:{id:t.genre+"-"+r,value:t.genre}},[t?n("v-player",{attrs:{slot:"player","it-should-be-play":0===r,multiply:!0,src:t.path},slot:"player"}):e._e()],1)}),n("button",{staticClass:"genre-answer-send",attrs:{type:"submit"}},[e._v("\n        "+e._s(e.$t("answer"))+"\n      ")])],2)])])},i=[],a=(n("5df3"),n("1c4c"),n("4e7e")),s=n("cf5f"),c=n("25fc"),u=n("8e7d"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.value&&e.id?n("div",{staticClass:"genre-answer"},[e._t("player"),n("input",{attrs:{type:"checkbox",name:"answer",id:e.id},domProps:{checked:e.checked,value:e.value},on:{change:e.isChecked}}),n("label",{staticClass:"genre-answer-check",attrs:{for:e.id}})],2):e._e()},l=[],d={name:"GenreAnswer",props:{id:{type:String,required:!0},value:{type:String,required:!0}},data:function(){return{checked:!1}},methods:{isChecked:function(){this.checked=!this.checked}},update:function(){this.checked=!1}},f=d,p=n("2877"),h=Object(p["a"])(f,o,l,!1,null,null,null),v=h.exports,m={name:"Genre",mixins:[a["a"],s["a"],c["a"]],components:{AnswerGenre:v,VPlayer:u["a"]},methods:{checkAnswer:function(){var e=this.question,t=Array.from(this.$refs.answer).filter(function(e){return e.checked}),n=e.tracks.filter(function(t){return t.genre===e.genre}).length,r=t.length,i=t.every(function(t){return t.value===e.genre}),a=n===r;this.$emit("update",this.updateState(this.game,{isAnswerSuccess:i&&a,time:this.getAnswerTime(),guessedTracks:r}))}}},y=m,g=Object(p["a"])(y,r,i,!1,null,null,null);t["default"]=g.exports},"4e7e":function(e,t,n){"use strict";var r={props:{game:{type:Object,default:function(){return{}}}}};t["a"]=r},"5df3":function(e,t,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},"8e7d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player-wrapper"},[n("div",{staticClass:"player"},[n("audio",{ref:"audio",attrs:{src:e.src,type:e.type,play:e.play},on:{timeupdate:e.onTimeUpdateListener,loadedmetadata:e.onDurationListener,ended:e.revertState}}),n("button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.rerender,expression:"rerender"}],staticClass:"player-control",class:e.playClass,attrs:{tabindex:0,"aria-label":"play or stop track"},on:{click:function(t){return t.preventDefault(),e.revertState(t)}}}),n("div",{staticClass:"player-track"},[n("span",{staticClass:"player-status"},[e._v("\n        "+e._s(e.$t("time",{current:e.currentTime,duration:e.duration}))+"\n      ")])])])])},i=[],a=n("c7db"),s={name:"VPlayer",mixins:[a["mixin"]],props:{multiply:{type:Boolean,default:!1},itShouldBePlay:{type:Boolean,default:!1},skippedTargets:{type:Array,default:function(){return["player-control"]}},src:{type:String,default:""},type:{type:String,default:"audio/mp3"}},data:function(){return{play:!1,currentTime:0,duration:0}},computed:{playClass:function(){var e=this.play?"pause":"play";return"player-control--".concat(e)}},mounted:function(){this.initState()},watch:{play:function(){this.play?this.$refs.audio.play():this.$refs.audio.pause()}},methods:{initState:function(){this.play=this.itShouldBePlay},revertState:function(){this.play=!this.play},onDurationListener:function(e){var t=e.target.duration;this.duration=t?Math.floor(t):0},onTimeUpdateListener:function(e){var t=e.target.currentTime;this.currentTime=t?Math.floor(t):0},rerender:function(e){if(this.multiply){var t=this.skippedTargets.filter(function(t){return e.target.classList.contains(t)});!0===Boolean(t.length)&&(this.play=!1)}}}},c=s,u=(n("31a3"),n("2877")),o=Object(u["a"])(c,r,i,!1,null,"5f27408e",null);t["a"]=o.exports},c7db:function(e,t,n){"use strict";var r=n("2b0e");r="default"in r?r["default"]:r;var i="2.2.2",a=/^2\./.test(r.version);a||r.util.warn("VueClickaway "+i+" only supports Vue 2.x, and does not support Vue "+r.version);var s="_vue_clickaway_handler";function c(e,t,n){u(e);var r=n.context,i=t.value;if("function"===typeof i){var a=!1;setTimeout(function(){a=!0},0),e[s]=function(t){var n=t.path||(t.composedPath?t.composedPath():void 0);if(a&&(n?n.indexOf(e)<0:!e.contains(t.target)))return i.call(r,t)},document.documentElement.addEventListener("click",e[s],!1)}}function u(e){document.documentElement.removeEventListener("click",e[s],!1),delete e[s]}var o={bind:c,update:function(e,t){t.value!==t.oldValue&&c(e,t)},unbind:u},l={directives:{onClickaway:o}};t.version=i,t.directive=o,t.mixin=l},cf5f:function(e,t,n){"use strict";var r={computed:{question:function(){var e=this.game&&this.game.questions.length;return e?this.game.questions[0]:[]}}};t["a"]=r},f1ae:function(e,t,n){"use strict";var r=n("86cc"),i=n("4630");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}}}]);